<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Delivery Information</title>
  <style>
    /* Your CSS styles here */
    body {
      font-family: Arial, sans-serif;
      background-color: #eee;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .container {
      background-color: #fff;
      border-radius: 16px;
      display: flex;
      width: 800px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .left-side {
      flex: 1;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .right-side {
      flex: 2;
      padding: 20px;
    }

    .delivery-image {
      max-width: 100%;
      height: auto;
    }

    table {
      width: 100%;
    }

    table tr {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    table th {
      font-weight: bold;
      text-align: right;
      width: 30%;
    }

    table td {
      text-align: left;
      width: 70%;
    }

  </style>
</head>
<body>
  <div class="container">
    <div class="left-side">
      <!-- Replace with your delivery image -->
      <img src="C:\Users\User\Desktop\project\Recyco-HUB\src\View\trash-truck.png" alt="Delivery Image" class="delivery-image">
    </div>
    <div class="right-side">
      <h2>Pickup Details</h2>
      <table>
        <tr>
          <td><b>Pickup ID:</b></td>
          <td><span id="pickupIDValue">N/A</span></td>
        </tr>
        <tr>
          <td><b>Customer ID:</b></td>
          <td><span id="customerIDValue">N/A</span></td>
        </tr>
        <tr>
          <td><b>Customer Name:</b></td>
          <td><span id="customerNameValue">N/A</span></td>
        </tr>
        <tr>
          <td><b>Location:</b></td>
          <td><span id="locationValue">N/A</span></td>
        </tr>
        <tr>
          <td><b>Date:</b></td>
          <td><span id="dateValue">N/A</span></td>
        </tr>
        <tr>
          <td><b>Time:</b></td>
          <td><span id="timeValue">N/A</span></td>
        </tr>
      </table>

      <div style="display: flex; justify-content: space-between;">
        <button id="acceptButton" style="padding: 10px 20px; background-color: #43c23f; color: #fff; border: none; border-radius: 5px; cursor: pointer;">Accept</button>
        <button id="declineButton" style="padding: 10px 20px; background-color: #43c23f; color: #fff; border: none; border-radius: 5px; cursor: pointer;">Decline</button>
      </div>
    </div>
  </div>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const pickupID = urlParams.get("pickupID");

    const pickupDetails = {
        P12345: {
            customerID: 'C67890',
            customerName: 'John Doe',
            location: 'Location 1, City A',
            date: '2023-09-25',
            time: '15:30',
        },
        P12346: {
            customerID: 'C56789',
            customerName: 'Jane Smith',
            location: 'Location 2, City B',
            date: '2023-09-26',
            time: '10:00',
        },
    };

    // Function to update the field values
    function updateFieldValues() {
        const pickupIDValue = document.getElementById("pickupIDValue");
        const customerIDValue = document.getElementById("customerIDValue");
        const customerNameValue = document.getElementById("customerNameValue");
        const locationValue = document.getElementById("locationValue");
        const dateValue = document.getElementById("dateValue");
        const timeValue = document.getElementById("timeValue");

        if (pickupDetails[pickupID]) {
            const details = pickupDetails[pickupID];
            pickupIDValue.textContent = pickupID;
            customerIDValue.textContent = details.customerID;
            customerNameValue.textContent = details.customerName;
            
            // Create a link to view the location on Google Maps
            const locationLink = document.createElement("a");
            locationLink.href = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(details.location)}`;
            locationLink.textContent = details.location;
            locationValue.innerHTML = ''; // Clear the locationValue
            locationValue.appendChild(locationLink);
            
            dateValue.textContent = details.date;
            timeValue.textContent = details.time;
        }
    }

    // Call the function to update the field values
    updateFieldValues();

    // Button event listeners
    const acceptButton = document.getElementById("acceptButton");
    const declineButton = document.getElementById("declineButton");

    acceptButton.addEventListener("click", () => {
      // Redirect to the acceptance page when the "Accept" button is clicked
      window.location.href = "confirmation.html";
    });

    declineButton.addEventListener("click", () => {
      // Add your logic for declining the pickup here
      window.location.href = "declination.html";
    });
  </script>
</body>
</html>
