<?php $this->view('include/head') ?>
<body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header is-small-screen">
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
                <div class="mdl-layout-spacer"></div>
                <!-- Search-->
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
                    <label class="mdl-button mdl-js-button mdl-button--icon" for="search">
                        <i class="material-icons">search</i>
                    </label>

                    <div class="mdl-textfield__expandable-holder">
                        <input class="mdl-textfield__input" type="text" id="search" />
                        <label class="mdl-textfield__label" for="search">Enter your query...</label>
                    </div>
                </div>

                <div class="material-icons mdl-badge mdl-badge--overlap mdl-button--icon notification" id="notification"
                    data-badge="23">
                    notifications_none
                </div>
                <!-- Notifications dropdown-->
                <ul class="mdl-menu mdl-list mdl-js-menu mdl-js-ripple-effect mdl-menu--bottom-right mdl-shadow--2dp notifications-dropdown"
                    for="notification">
                    <li class="mdl-list__item">
                        You have 23 new notifications!
                    </li>
                    <li class="mdl-menu__item mdl-list__item list__item--border-top">
                        <span class="mdl-list__item-primary-content">
                            <span class="mdl-list__item-avatar background-color--primary">
                                <i class="material-icons">plus_one</i>
                            </span>
                            <span>You have 3 new orders.</span>
                        </span>
                        <span class="mdl-list__item-secondary-content">
                            <span class="label">just now</span>
                        </span>
                    </li>
                    <li class="mdl-menu__item mdl-list__item list__item--border-top">
                        <span class="mdl-list__item-primary-content">
                            <span class="mdl-list__item-avatar background-color--secondary">
                                <i class="material-icons">error_outline</i>
                            </span>
                            <span>Database error</span>
                        </span>
                        <span class="mdl-list__item-secondary-content">
                            <span class="label">1 min</span>
                        </span>
                    </li>
                    <li class="mdl-menu__item mdl-list__item list__item--border-top">
                        <span class="mdl-list__item-primary-content">
                            <span class="mdl-list__item-avatar background-color--primary">
                                <i class="material-icons">new_releases</i>
                            </span>
                            <span>The Death Star is built!</span>
                        </span>
                        <span class="mdl-list__item-secondary-content">
                            <span class="label">2 hours</span>
                        </span>
                    </li>
                    <li class="mdl-menu__item mdl-list__item list__item--border-top">
                        <span class="mdl-list__item-primary-content">
                            <span class="mdl-list__item-avatar background-color--primary">
                                <i class="material-icons">mail_outline</i>
                            </span>
                            <span>You have 4 new mails.</span>
                        </span>
                        <span class="mdl-list__item-secondary-content">
                            <span class="label">5 days</span>
                        </span>
                    </li>
                    <li class="mdl-list__item list__item--border-top">
                        <button href="#" class="mdl-button mdl-js-button mdl-js-ripple-effect">ALL
                            NOTIFICATIONS</button>
                    </li>
                </ul>

                <div class="material-icons mdl-badge mdl-badge--overlap mdl-button--icon message" id="inbox"
                    data-badge="4">
                    mail_outline
                </div>
                <!-- Messages dropdown-->
                <ul class="mdl-menu mdl-list mdl-js-menu mdl-js-ripple-effect mdl-menu--bottom-right mdl-shadow--2dp messages-dropdown"
                    for="inbox">
                    <li class="mdl-list__item">
                        You have 4 new messages!
                    </li>
                    <li class="mdl-menu__item mdl-list__item mdl-list__item--two-line list__item--border-top">
                        <span class="mdl-list__item-primary-content">
                            <span class="mdl-list__item-avatar background-color--primary">
                                <text>A</text>
                            </span>
                            <span>Alice</span>
                            <span class="mdl-list__item-sub-title">Birthday Party</span>
                        </span>
                        <span class="mdl-list__item-secondary-content">
                            <span class="label label--transparent">just now</span>
                        </span>
                    </li>
                    <li class="mdl-menu__item mdl-list__item mdl-list__item--two-line list__item--border-top">
                        <span class="mdl-list__item-primary-content">
                            <span class="mdl-list__item-avatar background-color--baby-blue">
                                <text>M</text>
                            </span>
                            <span>Mike</span>
                            <span class="mdl-list__item-sub-title">No theme</span>
                        </span>
                        <span class="mdl-list__item-secondary-content">
                            <span class="label label--transparent">5 min</span>
                        </span>
                    </li>
                    <li class="mdl-menu__item mdl-list__item mdl-list__item--two-line list__item--border-top">
                        <span class="mdl-list__item-primary-content">
                            <span class="mdl-list__item-avatar background-color--cerulean">
                                <text>D</text>
                            </span>
                            <span>Darth</span>
                            <span class="mdl-list__item-sub-title">Suggestion</span>
                        </span>
                        <span class="mdl-list__item-secondary-content">
                            <span class="label label--transparent">23 hours</span>
                        </span>
                    </li>
                    <li class="mdl-menu__item mdl-list__item mdl-list__item--two-line list__item--border-top">
                        <span class="mdl-list__item-primary-content">
                            <span class="mdl-list__item-avatar background-color--mint">
                                <text>D</text>
                            </span>
                            <span>Don McDuket</span>
                            <span class="mdl-list__item-sub-title">NEWS</span>
                        </span>
                        <span class="mdl-list__item-secondary-content">
                            <span class="label label--transparent">30 Nov</span>
                        </span>
                    </li>
                    <li class="mdl-list__item list__item--border-top">
                        <button href="#" class="mdl-button mdl-js-button mdl-js-ripple-effect">SHOW ALL
                            MESSAGES</button>
                    </li>
                </ul>

                <div class="avatar-dropdown" id="icon">
                    <span>Luke</span>
                    <img src="images/Icon_header.png">
                </div>
                <!-- Account dropdawn-->
                <ul class="mdl-menu mdl-list mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect mdl-shadow--2dp account-dropdown"
                    for="icon">
                    <li class="mdl-list__item mdl-list__item--two-line">
                        <span class="mdl-list__item-primary-content">
                            <span class="material-icons mdl-list__item-avatar"></span>
                            <span>Luke</span>
                            <span class="mdl-list__item-sub-title">Luke@skywalker.com</span>
                        </span>
                    </li>
                    <li class="list__item--border-top"></li>
                    <li class="mdl-menu__item mdl-list__item">
                        <span class="mdl-list__item-primary-content">
                            <i class="material-icons mdl-list__item-icon">account_circle</i>
                            My account
                        </span>
                    </li>
                    <li class="mdl-menu__item mdl-list__item">
                        <span class="mdl-list__item-primary-content">
                            <i class="material-icons mdl-list__item-icon">check_box</i>
                            My tasks
                        </span>
                        <span class="mdl-list__item-secondary-content">
                            <span class="label background-color--primary">3 new</span>
                        </span>
                    </li>
                    <li class="mdl-menu__item mdl-list__item">
                        <span class="mdl-list__item-primary-content">
                            <i class="material-icons mdl-list__item-icon">perm_contact_calendar</i>
                            My events
                        </span>
                    </li>
                    <li class="list__item--border-top"></li>
                    <li class="mdl-menu__item mdl-list__item">
                        <span class="mdl-list__item-primary-content">
                            <i class="material-icons mdl-list__item-icon">settings</i>
                            Settings
                        </span>
                    </li>
                    <a href="login.html">
                        <li class="mdl-menu__item mdl-list__item">
                            <span class="mdl-list__item-primary-content">
                                <i class="material-icons mdl-list__item-icon text-color--secondary">exit_to_app</i>
                                Log out
                            </span>
                        </li>
                    </a>
                </ul>

                <button id="more" class="mdl-button mdl-js-button mdl-button--icon">
                    <i class="material-icons">more_vert</i>
                </button>

                <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect mdl-shadow--2dp settings-dropdown"
                    for="more">
                    <li class="mdl-menu__item">
                        Settings
                    </li>
                    <a class="mdl-menu__item" href="https://github.com/CreativeIT/getmdl-dashboard/issues">
                        Support
                    </a>
                    <li class="mdl-menu__item">
                        F.A.Q.
                    </li>
                </ul>
            </div>
        </header>

        <main class="mdl-layout__content">

            <div class="mdl-grid mdl-grid--no-spacing dashboard">

                <div
                    class="mdl-grid mdl-cell mdl-cell--9-col-desktop mdl-cell--12-col-tablet mdl-cell--4-col-phone mdl-cell--top">

                 
                    
                    
                    <div class="mdl-cell mdl-cell--12-col-desktop mdl-cell--12-col-tablet mdl-cell--4-col-phone">
                        <div class="mdl-card mdl-shadow--2dp" style="margin-top: 80px;">
                            <div class="mdl-layout__header-row">
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect button--colored-green"
                                    style="border-radius: 99px; margin-left: 1VW;" onclick="showTable('assignedTable', 'Assigned Pickups')">Assigned Inventories</button>
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect button--colored-green"
                                    style="border-radius: 99px; margin-left: 1VW;" onclick="showTable('completedTable', 'Completed Pickups')">Accepted Inventories</button>
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect button--colored-green"
                                    style="border-radius: 99px; margin-left: 1VW;" onclick="showTable('rejectedTable', 'Rejected Pickups')">Delivered Inventories</button>
                                  
                            </div>
                          
                            <div class="mdl-card__supporting-text no-padding">
                                <table class="mdl-data-table mdl-js-data-table" id="assignedTable" style="width: 100%; table-layout: fixed;">
                                    <thead>
                                        <tr>
                                            <th class="mdl-data-table__cell--non-numeric">#</th>
                                           
                                            <th class="mdl-data-table__cell--non-numeric">Assigned Date</th>
                                            <th class="mdl-data-table__cell--non-numeric">Status</th>
                                            <th class="mdl-data-table__cell--non-numeric">Content</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                            
                                    <?php
                                    if (is_array($rows) && !empty($rows)) {
                                        foreach ($rows as $row) {
                                            
                                                ?>
                                                <tr>
                                                    <td class="mdl-data-table__cell--non-numeric">
                                                        <?= $row->InventoryId ?? '' ?>
                                                    </td>
                                                    <td class="mdl-data-table__cell--non-numeric"><span
                                                class="label label--mini color--red"> <?= $row->Inventorystatus ?? '' ?></span> </td>
                                                   
                                                    <!-- Additional cells or content specific to rows with "assigned" status -->
                                                    <td class="mdl-data-table__cell--non-numeric">
                                                    <?= $row->content ?? '' ?> <!-- Content to be displayed for rows with "assigned" status -->
                                                    </td>
                                                    <td class="mdl-data-table__cell--non-numeric">

                                                      <?php
              
                                                 if ($row->Inventorystatus == 'Assigned') {
                                                 ?>
                                                 

                                                 <a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect button--colored-green" href="<?= ROOT ?>/collector/inven/<?= $row->InventoryId ?>/Accepted" style="border-radius: 99px;">Accept</button>
                                                 

                    

                                               <?php
                                               }
                                             ?>
                                          </td>
                                     </tr>
                                  <?php
                               }
            } else {
                // If $rows is not an array or is empty
                echo "No data available.";
            }
            ?>

                  </tbody>
                   </table>
                <table class="mdl-data-table mdl-js-data-table" id="completedTable" style="width: 100%; table-layout: fixed; display: none;">
                                    <thead>
                                        <tr>
                                            <th class="mdl-data-table__cell--non-numeric">#</th>
                                            <th class="mdl-data-table__cell--non-numeric">Inventory ID</th>
                                            <th class="mdl-data-table__cell--non-numeric">Accepted Date</th>
                                            <th class="mdl-data-table__cell--non-numeric">Status</th>
                                            
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="mdl-data-table__cell--non-numeric">1</td>
                                            <td class="mdl-data-table__cell--non-numeric">P1235</td>
                                            <td class="mdl-data-table__cell--non-numeric">2023/09/28</td>
                                            <td class="mdl-data-table__cell--non-numeric"><span
                                                class="label label--mini color--red">Not Delivered</span> </td>
                                            <td class="mdl-data-table__cell--non-numeric"><button
                                                    class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect button--colored-teal">Delivered</button>
                                            </td>
                                           
                                          
                                        </tr>
                                      
                                        
                                    
                                    </tbody>
                                </table>
                                
                            </table>
                            <table class="mdl-data-table mdl-js-data-table" id="rejectedTable" style="width: 100%; table-layout: fixed; display: none;">
                                <thead>
                                    <tr>
                                        <th class="mdl-data-table__cell--non-numeric">#</th>
                                        <th class="mdl-data-table__cell--non-numeric">Pickup ID</th>
                                        <th class="mdl-data-table__cell--non-numeric">Delivered Date</th>
                                        <th class="mdl-data-table__cell--non-numeric">Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="mdl-data-table__cell--non-numeric">1</td>
                                        <td class="mdl-data-table__cell--non-numeric">P1237</td>
                                        <td class="mdl-data-table__cell--non-numeric">2023/09/28</td>
                                        <td class="mdl-data-table__cell--non-numeric"><span
                                            class="label label--mini color--green">Delivered</span> </td>
                                    </tr>
                                    
                                </tbody>
                            </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </main>

    </div>
    <script>
        function showTable(tableId, buttonTitle) {
            // Hide all tables
            document.getElementById('assignedTable').style.display = 'none';
            document.getElementById('completedTable').style.display = 'none';
            document.getElementById('rejectedTable').style.display = 'none';
          
    
            // Show the selected table
            document.getElementById(tableId).style.display = 'table';
    
            // Update the card title
            document.querySelector('.mdl-card__title-text').textContent = buttonTitle;
           
        }
        showTable('assignedTable');
    </script>

<?php $this->view('include/footer') ?>

